{"ast":null,"code":"import _slicedToArray from\"/home/runner/work/galadmin/galadmin/src/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,createContext,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var ConfigContext=/*#__PURE__*/createContext(null);var ConfigProvider=function ConfigProvider(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),config=_useState2[0],setConfig=_useState2[1];useEffect(function(){axios.get(\"/config\").then(function(response){var _config=eval('('+response.data.config+')');setConfig(_config);if(_config.googleMapsKey){var script=document.createElement('script');script.src=\"https://maps.googleapis.com/maps/api/js?key=\"+_config.googleMapsKey+\"&libraries=places,autocomplete\";document.body.appendChild(script);return function(){document.body.removeChild(script);};}});},[]);return config?/*#__PURE__*/_jsx(ConfigContext.Provider,{value:config,children:props.children}):null;};export{ConfigContext,ConfigProvider};","map":{"version":3,"names":["React","useEffect","createContext","useState","axios","jsx","_jsx","ConfigContext","ConfigProvider","props","_useState","_useState2","_slicedToArray","config","setConfig","get","then","response","_config","eval","data","googleMapsKey","script","document","createElement","src","body","appendChild","removeChild","Provider","value","children"],"sources":["/home/runner/work/galadmin/galadmin/src/front/src/contexts/ConfigContext.js"],"sourcesContent":["import React, { useEffect, createContext, useState } from \"react\";\nimport axios from \"axios\";\n\nconst ConfigContext = createContext(null);\n\nconst ConfigProvider = (props) => {\n    const [config, setConfig] = useState(null);\n\n    useEffect(() => {\n        axios.get(\"/config\").then(response => {\n            const _config = eval('(' + response.data.config + ')')\n            setConfig(_config)\n\n            if (_config.googleMapsKey) {\n                const script = document.createElement('script');\n                script.src = \"https://maps.googleapis.com/maps/api/js?key=\" + _config.googleMapsKey + \"&libraries=places,autocomplete\";\n                document.body.appendChild(script);\n                return () => {\n                    document.body.removeChild(script);\n                }\n            }\n        })\n    }, []);\n\n    return config ? (\n        <ConfigContext.Provider value={config} >\n            {props.children}\n        </ConfigContext.Provider >\n    ) : null\n};\n\nexport { ConfigContext, ConfigProvider };\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACjE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,GAAM,CAAAC,aAAa,cAAGL,aAAa,CAAC,IAAI,CAAC,CAEzC,GAAM,CAAAM,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,KAAK,CAAK,CAC9B,IAAAC,SAAA,CAA4BP,QAAQ,CAAC,IAAI,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExBV,SAAS,CAAC,UAAM,CACZG,KAAK,CAACW,GAAG,CAAC,SAAS,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClC,GAAM,CAAAC,OAAO,CAAGC,IAAI,CAAC,GAAG,CAAGF,QAAQ,CAACG,IAAI,CAACP,MAAM,CAAG,GAAG,CAAC,CACtDC,SAAS,CAACI,OAAO,CAAC,CAElB,GAAIA,OAAO,CAACG,aAAa,CAAE,CACvB,GAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,GAAG,CAAG,8CAA8C,CAAGP,OAAO,CAACG,aAAa,CAAG,gCAAgC,CACtHE,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,MAAM,CAAC,CACjC,MAAO,WAAM,CACTC,QAAQ,CAACG,IAAI,CAACE,WAAW,CAACN,MAAM,CAAC,CACrC,CAAC,CACL,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAT,MAAM,cACTP,IAAA,CAACC,aAAa,CAACsB,QAAQ,EAACC,KAAK,CAAEjB,MAAO,CAAAkB,QAAA,CACjCtB,KAAK,CAACsB,QAAQ,CACM,CAAC,CAC1B,IAAI,CACZ,CAAC,CAED,OAASxB,aAAa,CAAEC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}