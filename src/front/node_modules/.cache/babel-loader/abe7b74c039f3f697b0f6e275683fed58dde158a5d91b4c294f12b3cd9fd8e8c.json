{"ast":null,"code":"import{useContext}from\"react\";import{Link,useHistory,useLocation}from\"react-router-dom\";import{ConfigContext}from'../contexts/ConfigContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SidebarItemIconAndLabel=function SidebarItemIconAndLabel(_ref){var view=_ref.view;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"sidebarIcon\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-\".concat(view.icon||\"square\")})}),/*#__PURE__*/_jsx(\"div\",{class:\"sidebarLabel\",children:view.label})]});};export default(function(){var location=useLocation();var config=useContext(ConfigContext);var history=useHistory();return/*#__PURE__*/_jsxs(\"div\",{class:\"sidebar\",children:[config.logo?/*#__PURE__*/_jsx(\"img\",{src:config.logo,class:\"logo\"}):null,/*#__PURE__*/_jsx(\"div\",{class:\"sidebarTitle\",children:config.name}),/*#__PURE__*/_jsx(\"div\",{class:\"sidebarSubtitle\",children:\"Back-office\"}),config.views.filter(function(view){return!view.hidden;}).map(function(view,i){if(view.type===\"link\"){return/*#__PURE__*/_jsx(\"a\",{href:view.src,children:/*#__PURE__*/_jsx(\"div\",{class:\"sidebarItem\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SidebarItemIconAndLabel,{view:view})})})},i);}else if(view.type===\"iframe\"){var isActive=location.pathname===\"/iframe/\".concat(i);return/*#__PURE__*/_jsx(Link,{to:\"/iframe/\".concat(i),children:/*#__PURE__*/_jsx(\"div\",{class:\"sidebarItem \".concat(isActive?\"active\":\"\"),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SidebarItemIconAndLabel,{view:view})})})},i);}else if(view.type===\"custom\"){var _isActive=location.pathname===\"/customView/\".concat(i);return/*#__PURE__*/_jsx(Link,{to:\"/customView/\".concat(i),children:/*#__PURE__*/_jsx(\"div\",{class:\"sidebarItem \".concat(_isActive?\"active\":\"\"),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SidebarItemIconAndLabel,{view:view})})})},i);}else if(view.type===\"table\"){var _isActive2=location.pathname===\"/records/\".concat(i)||location.pathname===\"/createRecord/\".concat(i)||location.pathname.startsWith(\"/record/\".concat(i,\"/\"))||location.pathname.startsWith(\"/editRecord/\".concat(i,\"/\"));return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return history.push(\"/records/\".concat(i));},children:/*#__PURE__*/_jsxs(\"div\",{class:\"sidebarItem \".concat(_isActive2?\"active\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"notificationWrapper\"}),/*#__PURE__*/_jsx(SidebarItemIconAndLabel,{view:view})]}),view.subviews?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"subviewsSeparator\"}),view.subviews.map(function(subview,j){var isActive=location.pathname==\"/records/\".concat(i,\"/\").concat(j);return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){history.push(\"/records/\".concat(i,\"/\").concat(j));e.stopPropagation();},children:/*#__PURE__*/_jsxs(\"div\",{\"data-subview-index\":j,class:isActive?\"active\":\"\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"notificationWrapperForSubview\"}),subview.label]})});})]}):null]})},i);}}),!config.hideBranding?/*#__PURE__*/_jsxs(\"div\",{class:\"sidebarBranding\",children:[\"Made with \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-heart\"}),\" by Galadrim\"]}):null]});});","map":{"version":3,"names":["useContext","Link","useHistory","useLocation","ConfigContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SidebarItemIconAndLabel","_ref","view","children","class","concat","icon","label","location","config","history","logo","src","name","views","filter","hidden","map","i","type","href","isActive","pathname","to","startsWith","onClick","push","subviews","subview","j","e","stopPropagation","hideBranding"],"sources":["/home/runner/work/galadmin/galadmin/src/front/src/components/Sidebar.js"],"sourcesContent":["\nimport { useContext } from \"react\";\nimport {\n    Link,\n    useHistory,\n    useLocation\n} from \"react-router-dom\";\nimport { ConfigContext } from '../contexts/ConfigContext'\n\nconst SidebarItemIconAndLabel = ({ view }) => (\n    <>\n        <div class=\"sidebarIcon\">\n            <i class={`fas fa-${view.icon || \"square\"}`}></i>\n        </div>\n        <div class=\"sidebarLabel\">{view.label}</div>\n    </>\n)\n\nexport default () => {\n    const location = useLocation();\n    const config = useContext(ConfigContext)\n    const history = useHistory();\n\n    return (\n        <div class=\"sidebar\">\n            {config.logo ? <img src={config.logo} class=\"logo\" /> : null}\n            <div class=\"sidebarTitle\">{config.name}</div>\n            <div class=\"sidebarSubtitle\">Back-office</div>\n            {config.views.filter(view => !view.hidden).map((view, i) => {\n                if (view.type === \"link\") {\n                    return (\n                        <a href={view.src} key={i}>\n                            <div class=\"sidebarItem\">\n                                <div>\n                                    <SidebarItemIconAndLabel view={view} />\n                                </div>\n                            </div>\n                        </a>\n                    )\n                } else if (view.type === \"iframe\") {\n                    const isActive = location.pathname === `/iframe/${i}`\n                    return (\n                        <Link to={`/iframe/${i}`} key={i}>\n                            <div class={`sidebarItem ${isActive ? \"active\" : \"\"}`}>\n                                <div>\n                                    <SidebarItemIconAndLabel view={view} />\n                                </div>\n                            </div>\n                        </Link>\n                    )\n                } else if (view.type === \"custom\") {\n                    const isActive = location.pathname === `/customView/${i}`\n                    return (\n                        <Link to={`/customView/${i}`} key={i}>\n                            <div class={`sidebarItem ${isActive ? \"active\" : \"\"}`}>\n                                <div>\n                                    <SidebarItemIconAndLabel view={view} />\n                                </div>\n                            </div>\n                        </Link>\n                    )\n                } else if (view.type === \"table\") {\n                    const isActive =\n                        location.pathname === `/records/${i}` ||\n                        location.pathname === `/createRecord/${i}` ||\n                        location.pathname.startsWith(`/record/${i}/`) ||\n                        location.pathname.startsWith(`/editRecord/${i}/`)\n                    return (\n                        <div onClick={() => history.push(`/records/${i}`)} key={i}>\n                            <div class={`sidebarItem ${isActive ? \"active\" : \"\"}`}>\n                                <div>\n                                    <div class=\"notificationWrapper\"></div>\n                                    <SidebarItemIconAndLabel view={view} />\n                                </div>\n                                {view.subviews ? (\n                                    <>\n                                        <div class=\"subviewsSeparator\"></div>\n                                        {view.subviews.map((subview, j) => {\n                                            const isActive = location.pathname == `/records/${i}/${j}`\n                                            return (\n                                                <div onClick={(e) => {\n                                                    history.push(`/records/${i}/${j}`);\n                                                    e.stopPropagation();\n                                                }}>\n                                                    <div data-subview-index={j} class={isActive ? \"active\" : \"\"}>\n                                                        <div class=\"notificationWrapperForSubview\"></div>\n                                                        {subview.label}\n                                                    </div>\n                                                </div>\n                                            )\n                                        })}\n                                    </>\n                                ) : null}\n                            </div>\n                        </div>\n                    )\n                }\n            })}\n            {!config.hideBranding ? (\n                <div class=\"sidebarBranding\">Made with <i class=\"fas fa-heart\"></i> by Galadrim</div>\n            ) : null}\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}