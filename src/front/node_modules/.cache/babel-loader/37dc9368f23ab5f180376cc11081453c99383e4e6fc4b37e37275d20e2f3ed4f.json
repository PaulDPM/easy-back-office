{"ast":null,"code":"import _defineProperty from\"/home/runner/work/galadmin/galadmin/src/front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/runner/work/galadmin/galadmin/src/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import Editor from\"ckeditor5-custom-build\";import{CKEditor}from'@ckeditor/ckeditor5-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var baseURL=process.env.NODE_ENV===\"development\"?'http://localhost/admin/api':'/_HOMEPAGE_/api';export default(function(_ref){var column=_ref.column,_onChange2=_ref.onChange,initialData=_ref.initialData;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),words=_useState4[0],setWords=_useState4[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CKEditor,{editor:Editor,config:{simpleUpload:{uploadUrl:\"\".concat(baseURL,\"/uploadFileFromBetterRichTextInput\"),withCredentials:true,headers:{\"file-upload-properties\":JSON.stringify(column.fileUploadProperties)}},wordCount:{onUpdate:function onUpdate(stats){setCharacters(stats.characters);setWords(stats.words);}}},data:initialData===null||initialData===void 0?void 0:initialData[column.htmlField],onChange:function onChange(event,editor){_onChange2(_defineProperty({},column.htmlField,editor.getData()));}}),/*#__PURE__*/_jsxs(\"div\",{class:\"richTextStats\",children:[words,\" mots, \",characters,\" caract\\xE8res\"]})]});});","map":{"version":3,"names":["useState","Editor","CKEditor","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","baseURL","process","env","NODE_ENV","_ref","column","onChange","initialData","_useState","_useState2","_slicedToArray","characters","setCharacters","_useState3","_useState4","words","setWords","children","editor","config","simpleUpload","uploadUrl","concat","withCredentials","headers","JSON","stringify","fileUploadProperties","wordCount","onUpdate","stats","data","htmlField","event","_defineProperty","getData","class"],"sources":["/home/runner/work/galadmin/galadmin/src/front/src/components/inputs/BetterRichTextInput.js"],"sourcesContent":["import { useState } from \"react\";\nimport Editor from \"ckeditor5-custom-build\"\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\n\nconst baseURL = process.env.NODE_ENV === \"development\" ? 'http://localhost/admin/api' : '/_HOMEPAGE_/api';\n\nexport default ({ column, onChange, initialData }) => {\n    const [characters, setCharacters] = useState(0);\n    const [words, setWords] = useState(0);\n\n    return (\n        <>\n            <CKEditor\n                editor={Editor}\n                config={{\n                    simpleUpload: {\n                        uploadUrl: `${baseURL}/uploadFileFromBetterRichTextInput`,\n                        withCredentials: true,\n                        headers: {\n                            \"file-upload-properties\": JSON.stringify(column.fileUploadProperties)\n                        }\n                    },\n                    wordCount: {\n                        onUpdate: stats => {\n                            setCharacters(stats.characters)\n                            setWords(stats.words)\n                        }\n                    }\n                }}\n                data={initialData?.[column.htmlField]}\n                onChange={(event, editor) => {\n                    onChange({\n                        [column.htmlField]: editor.getData()\n                    })\n                }}\n            />\n            <div class=\"richTextStats\">{words} mots, {characters} caract√®res</div>\n        </>\n\n    );\n};\n"],"mappings":"wQAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,QAAQ,KAAQ,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,GAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAG,4BAA4B,CAAG,iBAAiB,CAEzG,eAAe,SAAAC,IAAA,CAAuC,IAApC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,UAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CAC3C,IAAAC,SAAA,CAAoCjB,QAAQ,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAA0BtB,QAAQ,CAAC,CAAC,CAAC,CAAAuB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA9BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB,mBACIjB,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACItB,IAAA,CAACF,QAAQ,EACLyB,MAAM,CAAE1B,MAAO,CACf2B,MAAM,CAAE,CACJC,YAAY,CAAE,CACVC,SAAS,IAAAC,MAAA,CAAKtB,OAAO,sCAAoC,CACzDuB,eAAe,CAAE,IAAI,CACrBC,OAAO,CAAE,CACL,wBAAwB,CAAEC,IAAI,CAACC,SAAS,CAACrB,MAAM,CAACsB,oBAAoB,CACxE,CACJ,CAAC,CACDC,SAAS,CAAE,CACPC,QAAQ,CAAE,SAAAA,SAAAC,KAAK,CAAI,CACflB,aAAa,CAACkB,KAAK,CAACnB,UAAU,CAAC,CAC/BK,QAAQ,CAACc,KAAK,CAACf,KAAK,CAAC,CACzB,CACJ,CACJ,CAAE,CACFgB,IAAI,CAAExB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAGF,MAAM,CAAC2B,SAAS,CAAE,CACtC1B,QAAQ,CAAE,SAAAA,SAAC2B,KAAK,CAAEf,MAAM,CAAK,CACzBZ,UAAQ,CAAA4B,eAAA,IACH7B,MAAM,CAAC2B,SAAS,CAAGd,MAAM,CAACiB,OAAO,CAAC,CAAC,CACvC,CAAC,CACN,CAAE,CACL,CAAC,cACFtC,KAAA,QAAKuC,KAAK,CAAC,eAAe,CAAAnB,QAAA,EAAEF,KAAK,CAAC,SAAO,CAACJ,UAAU,CAAC,gBAAW,EAAK,CAAC,EACxE,CAAC,CAGX,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}